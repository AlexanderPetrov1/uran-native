Цапко Александр Юрьевич

a.tsapko@urancompany.com

1. Сессии, кеши, сложные формы

Написать простейшую форму отправки запроса (стандартная форма “свяжитесь с нами”) с защитой от повторной отправки на двойное нажатие. Также запретить отправку запроса чаще чем раз в 30 минут, а после успешной отправки выводить надпись “вы уже отправили запрос, повторный запросы можно отправить через ххх минут”. С помощью кеша защитить от отправки одного письма с разных ip (с разными ключами сессий).


2. Трай, кетч, простые классы 

Напишите класс для работы со стандартной функцией mail для отправки сообщений. Если при отправке возникла ошибка - то возвращать исключение. Если это ошибка емейла - то писать пользователю что емейл плохой, если ошибка настроек сервера - записывать в лог ошибку и пробовать альтернативную отправку (для учебного варианта - просто пишем в текстовый файл). Максимальное количество разных ошибок проверить в тестах.


3. Трейты, интерфейсы, наследование классов

Напишите два класса для экспорта товаров из базы, один экспортирует в csv (колонки: id, title), второй в html (где одна страница - одна карточка товара). Сделать возможность расширять особые экспорты - например в виде пдф каталога или xml для яндекс.директ.


4. Code review
/*
 * опишите что этот запрос делает
 * заметьте - это Postgresql - предположительно не знакомая вам база данных и вам нужно почитать документацию прежде чем ответить
 */
$sql = 'SELECT COUNT(*) FROM content.items WHERE (status IN (1,11,2) AND (id_rubrics @> ARRAY[11]) AND (id_categories @> ARRAY[22121121121212]))';